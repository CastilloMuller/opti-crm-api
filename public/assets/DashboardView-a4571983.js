import{X as C,Q as V,r as m,c as k,p as $,u as R,v as s,J as t,R as a,C as f,G as i,N as l,Y as g,s as N,P as L}from"./vendor-62589595.js";import{s as p}from"./panel.esm-642ecf4c.js";import{u as A,s as r,_ as S}from"./index-2790fa8c.js";import{s as y,a as c}from"./column.esm-2238abf2.js";import"./index.esm-739d41d4.js";const T="/api",x=C.create({baseURL:T,headers:{"Content-Type":"application/json"}}),q=async()=>(await x.get("/dashboard")).data,B={class:"dashboard-view"},E={class:"dashboard-header"},U={class:"header-actions"},I={class:"connection-status"},j={class:"quick-actions"},z={class:"dashboard-grid"},F={class:"lead-stats"},G={class:"stat-item"},J={class:"stat-value"},M={class:"stat-item"},O={class:"stat-value"},P={class:"stat-item"},Q={class:"stat-value"},W={class:"stat-item"},X={class:"stat-value"},Y={class:"stat-item"},H={class:"stat-value"},K=V({__name:"DashboardView",setup(D){g();const{isConnected:u}=A(),n=m({stats:{totalLeads:0,activeLeads:0,convertedLeads:0,conversionRate:"0%",totalValue:0},recentLeads:[],recentActivity:[]}),h=m(new Date().toLocaleString()),v=k(()=>({status:u.value?"Connected":"Disconnected",icon:u.value?"pi pi-check-circle":"pi pi-times-circle",class:u.value?"connected":"disconnected"})),_=async()=>{try{const o=await q();n.value=o,h.value=new Date().toLocaleString()}catch(o){console.error("Error fetching dashboard data:",o)}},b=o=>new Intl.NumberFormat("nl-NL",{style:"currency",currency:"EUR"}).format(o),w=o=>new Date(o).toLocaleDateString("nl-NL");return $(()=>{_()}),(o,e)=>(N(),R("div",B,[s("div",E,[e[4]||(e[4]=s("h1",null,"Dashboard",-1)),s("div",U,[t(a(r),{label:"Refresh",icon:"pi pi-refresh",onClick:_,class:"p-button-outlined"})]),s("div",I,[s("i",{class:f(v.value.icon)},null,2),s("span",{class:f(v.value.class)},i(v.value.status),3),s("small",null,"Last update: "+i(h.value),1)])]),s("div",j,[t(a(r),{label:"New Lead",icon:"pi pi-plus",onClick:e[0]||(e[0]=d=>o.$router.push("/leads?new=true")),class:"p-button-success"}),t(a(r),{label:"Add Task",icon:"pi pi-calendar-plus",onClick:e[1]||(e[1]=d=>o.$router.push("/calendar?new=true"))}),t(a(r),{label:"View Analytics",icon:"pi pi-chart-line",onClick:e[2]||(e[2]=d=>o.$router.push("/analytics")),class:"p-button-help"})]),s("div",z,[t(a(p),{header:"Lead Overview",class:"dashboard-panel"},{icons:l(()=>[t(a(r),{icon:"pi pi-arrow-right",onClick:e[3]||(e[3]=d=>o.$router.push("/leads")),class:"p-button-text p-button-sm"})]),default:l(()=>[s("div",F,[s("div",G,[s("div",J,i(n.value.stats.totalLeads),1),e[5]||(e[5]=s("div",{class:"stat-label"},"Total Leads",-1))]),s("div",M,[s("div",O,i(n.value.stats.activeLeads),1),e[6]||(e[6]=s("div",{class:"stat-label"},"Active Leads",-1))]),s("div",P,[s("div",Q,i(n.value.stats.convertedLeads),1),e[7]||(e[7]=s("div",{class:"stat-label"},"Converted Leads",-1))]),s("div",W,[s("div",X,i(n.value.stats.conversionRate),1),e[8]||(e[8]=s("div",{class:"stat-label"},"Conversion Rate",-1))]),s("div",Y,[s("div",H,i(b(n.value.stats.totalValue)),1),e[9]||(e[9]=s("div",{class:"stat-label"},"Total Value",-1))])])]),_:1}),t(a(p),{header:"Recent Activity",class:"dashboard-panel"},{default:l(()=>[t(a(y),{value:n.value.recentActivity,class:"activity-timeline"},{default:l(()=>[t(a(c),{field:"description",header:"Activity"}),t(a(c),{field:"timestamp",header:"Timestamp"})]),_:1},8,["value"])]),_:1}),t(a(p),{header:"Recent Leads",class:"dashboard-panel"},{default:l(()=>[t(a(y),{value:n.value.recentLeads,class:"recent-leads-table"},{default:l(()=>[t(a(c),{field:"name",header:"Name"}),t(a(c),{field:"quotationValue",header:"Value"},{body:l(({data:d})=>[L(i(b(d.quotationValue)),1)]),_:1}),t(a(c),{field:"decisionDate",header:"Decision"},{body:l(({data:d})=>[L(i(w(d.decisionDate)),1)]),_:1})]),_:1},8,["value"])]),_:1})])]))}});const os=S(K,[["__scopeId","data-v-842ebd95"]]);export{os as default};
